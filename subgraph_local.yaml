specVersion: 0.0.2
description: TAIAOS 
repository: https://github.com/simondlr/taiaos-subgraph
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: ARTWORK_V1_RESTORED
    network: mainnet
    source:
      address: '0xA5a7123CAaaa8BeC0d8B7FFBB0eEB78e73D5b76f'
      abi: ERC721
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Transfer
      abis:
        - name: ERC721 
          file: ./abis/ERC721.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleMint
      file: ./src/taiaos_mapping.ts
  - kind: ethereum/contract
    name: STEWARD_V1_RESTORED 
    network: mainnet
    source:
      address: '0x22A35Bc1CD2Edf8BD137812A4BB9DCcE77D82b34'
      abi: STEWARD_V2
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - LogBuy
        - LogCollection
        - LogForeclosure
      abis:
        - name: STEWARD_V2 
          file: ./abis/STEWARD_V2.json
      eventHandlers:
        - event: LogBuy(indexed address,indexed uint256)
          handler: handleBuy 
        - event: LogCollection(indexed uint256)
          handler: handleCollection
        - event: LogForeclosure(indexed address)
          handler: handleForeclosure
      file: ./src/taiaos_mapping.ts